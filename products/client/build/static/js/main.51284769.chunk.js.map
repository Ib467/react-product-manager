{"version":3,"sources":["logo.svg","views/AllProducts.js","views/NewProduct.js","views/SingleProduct.js","views/EditProduct.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","AllProducts","NewProduct","useState","products","setProducts","setHasError","errors","setErrors","title","setTitle","price","setPrice","description","setDescription","useEffect","axios","get","then","response","data","catch","class","onSubmit","event","preventDefault","post","navigate","err","console","log","name","value","onChange","e","target","style","color","properties","message","type","map","product","key","_id","to","onClick","id","delete","filter","SingleProduct","props","setProduct","EditProduct","put","App","className","path","from","noThrow","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.51284769.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, {useEffect, useState} from 'react';\nimport axios from 'axios'\nimport { navigate, Link } from '@reach/router'\n\n\nexport default function AllProducts(){\n\n\n        return(\n            <div> Hello from all products function</div>\n        )\n\n}","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {navigate, Link} from '@reach/router'\n\n\nexport default function NewProduct(){\n    const [products, setProducts] = useState([])\n    const [hasError, setHasError] = useState([]) //used in previous lecture\n    const [errors, setErrors] = useState(null)  \n    const [title, setTitle] = useState('')\n    const [price, setPrice] = useState('')\n    const [description, setDescription] = useState('')\n\n    useEffect (() => {\n        axios.get('http://localhost:8002/api/products',)\n        .then(response => setProducts(response.data))\n        .catch(() => setHasError(true))\n         \n    }, [])\n\n\n    function handleSubmit (event){\n        event.preventDefault()\n        //console.log('submitted form')\n        axios.post('http://localhost:8002/api/products', {\n            title,\n            price,\n            description\n        })\n        .then(() => navigate('/processing'))  // '/products'\n        //.catch(console.log)\n        .catch((err) => {\n            setErrors(err.response.data.errors);\n            console.log(err.response)\n        })\n    \n    }\n\n    function handleDelete (id){\n        axios.delete('http://localhost:8002/api/products/' + id )\n        .then(() => setProducts(products.filter(product => product._id != id)))\n\n    }\n\n    return (\n        <div class=\"new-prd\" >\n            <h2 class=\"is-size-4\"> Product manager: </h2>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label>Title: </label>\n\n                    <input \n                        class=\"input\"\n                        name=\"title\"\n                        value= {title}\n                        onChange= {e => setTitle(e.target.value)}\n                    />\n                    {errors && (\n                        <span style={{ color: \"red\" }}>\n                        {/* ?. is called optional chaining, NEW feature in JS */}\n                        {errors?.title?.properties?.message}\n                        </span>\n                        )}\n\n                </div>\n                <div>\n                    <label>Price: </label>\n                    <input \n                        class=\"input\"\n                        name=\"price\"\n                        value= {price}\n                        type=\"number\"\n                        onChange= {e => setPrice(e.target.value)}\n                    />\n                        {errors && (\n                        <span style={{ color: \"red\" }}>\n                        {/* ?. is called optional chaining, NEW feature in JS */}\n                        {errors?.price?.properties?.message}\n                        </span>\n                        )}\n                </div>\n                <div>\n                    <label>Description: </label>\n                    <input \n                        class=\"input\"\n                        name=\"description\"\n                        value= {description}\n                        onChange= {e => setDescription(e.target.value)}\n                    />\n                    {errors && (\n                        <span style={{ color: \"red\" }}>\n                        {/* ?. is called optional chaining, NEW feature in JS */}\n                        {errors?.description?.properties?.message}\n                        </span>\n                        )}\n                </div>\n                <div class=\"control\">\n                <button class=\"button is-primary\">Submit</button>\n                </div>\n            </form>\n            <hr></hr>\n            <h2 class=\"is-size-4\">All Products: </h2> \n               <ul class=\"all-prd\">\n                {products.map(product => (\n                    <li key={product._id}><Link to={product._id} class=\"all-title\">{product.title}</Link>\n                    <button class=\"button is-primary\" onClick={() => navigate(product._id + '/edit')}>Edit</button>\n                    \n                    <button class=\"button is-primary\" onClick={() => handleDelete(product._id)}>Delete</button>\n                    </li>\n\n                ))}\n               </ul>\n\n        </div>       \n    )\n\n}","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {navigate} from '@reach/router'\n\nexport default function SingleProduct(props){\n    const [product, setProduct] = useState (null)\n\n    useEffect (() => {\n        axios.get('http://localhost:8002/api/products/'+ props.id)\n        .then(response => setProduct(response.data))\n    }, []);\n\n    if(product == null) return 'Loading...'\n\n\n    function handleDelete (id){\n        axios.delete('http://localhost:8002/api/products/' + id )\n        .then(() => navigate('/'))\n\n    }\n\n    return (\n        <div>\n            <h2> Title: </h2>\n            <p> {product.title}</p>\n            <h2> Price: </h2>\n            <p> {product.price}</p>\n            <h2> Description:</h2>\n            <p> {product.description}</p>\n            <button onClick={() => handleDelete(product._id)}>Delete</button>\n\n        </div>\n    )\n\n}","import React, {useEffect, useState} from 'react';\nimport exios from 'axios';\nimport {navigate} from '@reach/router'\nimport axios from 'axios';\n\nexport default function EditProduct({id}){\n    const [title, setTitle] = useState('')\n    const [price, setPrice] = useState('')\n    const [description, setDescription] = useState('')\n    const [errors, setErrors] = useState(null) // new erros\n\n    useEffect (() => {\n        axios.get('http://localhost:8002/api/products/' + id)\n        .then(response => {\n            setTitle(response.data.title)\n            setPrice(response.data.price)\n            setDescription(response.data.description)\n    });\n}, [id])\n\n\n    function handleSubmit(event){\n        event.preventDefault();\n        axios.put('http://localhost:8002/api/products/' + id, {\n            title,\n            price,\n            description\n        })\n        .then(() => navigate('/'))\n        // .catch(console.log)\n        .catch((err) => {\n            setErrors(err.response.data.errors);\n            console.log(err.response)\n        })\n    }\n\n\n\n    return (\n        <div class=\"edit-prd\"><p class=\"is-size-4\">Edit Item Page: </p> \n                <form onSubmit={handleSubmit}>\n                <div>\n                    <label>Title: </label>\n                    <input \n                        class=\"input\"\n                        name=\"title\"\n                        value= {title}\n                        onChange= {e => setTitle(e.target.value)}\n                    />\n                    {errors && (\n                        <span style={{ color: \"red\" }}>\n                        {/* ?. is called optional chaining, NEW feature in JS */}\n                        {errors?.title?.properties?.message}\n                        </span>\n                        )}\n                </div>\n                <div>\n                    <label>Price: </label>\n                    <input \n                        class=\"input\"\n                        name=\"price\"\n                        value= {price}\n                        type=\"number\"\n                        onChange= {e => setPrice(e.target.value)}\n                    />\n                    {errors && (\n                        <span style={{ color: \"red\" }}>\n                        {/* ?. is called optional chaining, NEW feature in JS */}\n                        {errors?.price?.properties?.message}\n                        </span>\n                        )}\n                </div>\n                <div>\n                    <label>Description: </label>\n                    <input \n                        class=\"input\"\n                        name=\"description\"\n                        value= {description}\n                        onChange= {e => setDescription(e.target.value)}\n                    />\n                    {errors && (\n                        <span style={{ color: \"red\" }}>\n                        {/* ?. is called optional chaining, NEW feature in JS */}\n                        {errors?.description?.properties?.message}\n                        </span>\n                        )}\n                </div>\n                <div class=\"control\">\n                <button class=\"button is-primary\">Submit</button>\n                </div>\n            </form>\n            \n\n\n\n        </div>\n    )\n\n\n\n}","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport {Router, Redirect, Link} from '@reach/router'\n\nimport AllProducts from './views/AllProducts'\nimport NewProduct from './views/NewProduct';\nimport SingleProduct from './views/SingleProduct'\nimport EditProduct from './views/EditProduct'\n\n \nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <AllProducts path = 'products' />\n        {/* <Redirect from=\"/\" to=\"products\" noThrow /> */}\n        <NewProduct path=\"/\"></NewProduct>\n        <SingleProduct path=\"/:id\" />\n        <EditProduct path=\"/:id/edit\" />\n        <Redirect from=\"/processing\" to=\"/\" noThrow />\n      </Router>\n       \n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}